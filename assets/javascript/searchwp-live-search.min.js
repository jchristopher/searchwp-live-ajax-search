!function(a,b,c,d){!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var d,e=c.createElement(a||"div");for(d in b)e[d]=b[d];return e}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function e(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=l.substring(0,l.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return n[e]||(o.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",o.cssRules.length),n[e]=1),e}function f(a,b){var c,e,f=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),e=0;e<m.length;e++)if(c=m[e]+b,f[c]!==d)return c;return f[b]!==d?b:void 0}function g(a,b){for(var c in b)a.style[f(a,c)||c]=b[c];return a}function h(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var e in c)a[e]===d&&(a[e]=c[e])}return a}function i(a,b){return"string"==typeof a?a:a[b%a.length]}function j(a){this.opts=h(a||{},j.defaults,p)}function k(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}o.addRule(".spin-vml","behavior:url(#default#VML)"),j.prototype.lines=function(a,d){function e(){return g(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function f(a,f,h){b(m,b(g(e(),{rotation:360/d.lines*a+"deg",left:~~f}),b(g(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:h}),c("fill",{color:i(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var h,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=g(e(),{position:"absolute",top:l,left:l});if(d.shadow)for(h=1;h<=d.lines;h++)f(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;h<=d.lines;h++)f(h);return b(a,m)},j.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var l,m=["webkit","Moz","ms","O"],n={},o=function(){var d=a("style",{type:"text/css"});return b(c.getElementsByTagName("head")[0],d),d.sheet||d.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};j.defaults={},h(j.prototype,{spin:function(b){this.stop();{var c=this,d=c.opts,e=c.el=g(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});d.radius+d.length+d.width}if(g(e,{left:d.left,top:d.top}),b&&b.insertBefore(e,b.firstChild||null),e.setAttribute("role","progressbar"),c.lines(e,c.opts),!l){var f,h=0,i=(d.lines-1)*(1-d.direction)/2,j=d.fps,k=j/d.speed,m=(1-d.opacity)/(k*d.trail/100),n=k/d.lines;!function o(){h++;for(var a=0;a<d.lines;a++)f=Math.max(1-(h+(d.lines-a)*n)%k*m,d.opacity),c.opacity(e,a*d.direction+i,f,d);c.timeout=c.el&&setTimeout(o,~~(1e3/j))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=d),this},lines:function(c,d){function f(b,c){return g(a(),{position:"absolute",width:d.length+d.width+"px",height:d.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/d.lines*j+d.rotate)+"deg) translate("+d.radius+"px,0)",borderRadius:(d.corners*d.width>>1)+"px"})}for(var h,j=0,k=(d.lines-1)*(1-d.direction)/2;j<d.lines;j++)h=g(a(),{position:"absolute",top:1+~(d.width/2)+"px",transform:d.hwaccel?"translate3d(0,0,0)":"",opacity:d.opacity,animation:l&&e(d.opacity,d.trail,k+j*d.direction,d.lines)+" "+1/d.speed+"s linear infinite"}),d.shadow&&b(h,g(f("#000","0 0 4px #000"),{top:"2px"})),b(c,b(h,f(i(d.color,j),"0 0 1px rgba(0,0,0,.1)")));return c},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var q=g(a("group"),{behavior:"url(#default#VML)"});return!f(q,"transform")&&q.adj?k():l=f(q,"animation"),j}),function(a){function d(a){this.config=null,this.input_el=a,this.results_id=null,this.results_el=null,this.results_showing=!1,this.form_el=null,this.timer=!1,this.last_string="",this.spinner=null,this.spinner_showing=!1,this.has_results=!1,this.init()}var e="searchwp_live_search";d.prototype={init:function(){var c=this,d=this.input_el;this.form_el=d.parents("form:eq(0)");var e=!1,f=d.data("swpconfig");if(f&&"undefined"!=typeof f)for(var g in searchwp_live_search_params.config)f===g&&(e=!0,this.config=searchwp_live_search_params.config[g]);else for(var h in searchwp_live_search_params.config)"default"===h&&(e=!0,this.config=searchwp_live_search_params.config[h]);if(e){var i=d.data("swpengine");i&&(this.config.engine=i),d.attr("autocomplete","off"),a("body").append(a('<div class="searchwp-live-search-results" id="'+this.results_id+'"></div>')),this.results_el=a("#"+this.results_id),this.position_results(),a(b).resize(function(){c.position_results()}),this.config.spinner&&(this.spinner=new Spinner(this.config.spinner)),d.keyup(function(){a.trim(c.input_el.val()).length?c.results_showing||(c.position_results(),c.results_el.addClass("searchwp-live-search-results-showing"),c.show_spinner(),c.results_showing=!0):c.destroy_results(),c.has_results&&!c.spinner_showing&&c.last_string!==a.trim(c.input_el.val())&&(c.results_el.empty(),c.show_spinner())}).keyup(a.proxy(this.maybe_search,this)),a("html").click(function(){c.destroy_results()}),d.click(function(a){a.stopPropagation()}),this.results_el.click(function(a){a.stopPropagation()})}else alert(searchwp_live_search_params.msg_no_config_found)},position_results:function(){var a=this.input_el,b=a.offset(),c=this.results_el,d=0;if(!a.is(":hidden")&&!c.is(":hidden")){switch(b.left+=parseInt(this.config.results.offset.x,10),b.top+=parseInt(this.config.results.offset.y,10),this.config.results.position){case"top":d=0-c.height();break;default:d=a.outerHeight()}c.css("left",b.left),c.css("top",b.top+d+"px"),"auto"===this.config.results.width&&c.width(a.outerWidth()-parseInt(c.css("paddingRight").replace("px",""),10)-parseInt(c.css("paddingLeft").replace("px",""),10))}},destroy_results:function(){this.hide_spinner(),this.results_el.empty().removeClass("searchwp-live-search-results-showing"),this.results_showing=!1,this.has_results=!1},maybe_search:function(b){clearTimeout(this.timer),this.last_string!==a.trim(b.currentTarget.value)&&b.currentTarget.value.length>=this.config.input.min_chars&&(this.timer=setTimeout(a.proxy(this.search,this,b),this.config.input.delay))},show_spinner:function(){this.config.spinner&&!this.spinner_showing&&(this.spinner.spin(c.getElementById(this.results_id)),this.spinner_showing=!0)},hide_spinner:function(){this.config.spinner&&(this.spinner.stop(),this.spinner_showing=!1)},search:function(){var b=this,c=this.form_el,d=c.serialize(),e=c.attr("action"),f=this.input_el,g=this.results_el;d+="&action=searchwp_live_search&swpengine="+this.config.engine+"&swpquery="+f.val(),-1!==e.indexOf("?")&&(e=e.split("?"),d+="&"+e[1]),this.last_string=f.val(),this.has_results=!0,a.ajax({url:searchwp_live_search_params.ajaxurl,type:"POST",data:d,complete:function(){b.spinner_showing=!1,b.hide_spinner()},success:function(a){0===a&&(a=""),b.position_results(),g.html(a)}})},uniqid:function(a,b){"undefined"==typeof a&&(a="");var c,d=function(a,b){return a=parseInt(a,10).toString(16),b<a.length?a.slice(a.length-b):b>a.length?new Array(1+(b-a.length)).join("0")+a:a};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,c=a,c+=d(parseInt((new Date).getTime()/1e3,10),8),c+=d(this.php_js.uniqidSeed,5),b&&(c+=(10*Math.random()).toFixed(8).toString()),c}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(a(this),b))}),this}}(jQuery),jQuery(c).ready(function(a){a('input[data-swplive="true"]').searchwp_live_search()})}(jQuery,window,document);